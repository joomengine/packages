{
    "system_name": "Ingredient",
    "name_single": "Ingredient",
    "short_description": "Ingredient",
    "php_allowedit": "",
    "php_postsavehook": "",
    "php_before_save": "[CUSTOMCODE=saveGUIDPower]",
    "php_getlistquery": "",
    "php_getitems": "",
    "name_list": "Ingredients",
    "icon": "images\/ingredients.png#joomlaImage:\/\/local-images\/ingredients.png?width=128&height=128",
    "php_after_publish": "",
    "add_fadein": 1,
    "description": "Ingredients",
    "icon_category": "",
    "icon_add": "",
    "php_after_cancel": "",
    "mysql_table_charset": "utf8mb4",
    "php_batchmove": "",
    "type": 1,
    "php_after_delete": "",
    "source": 0,
    "php_getitem": "",
    "addpermissions": null,
    "php_getitems_after_all": "",
    "php_getform": "[CUSTOMCODE=setGUIDFormPower]",
    "addtabs": null,
    "php_save": "",
    "php_allowadd": "",
    "php_before_cancel": "",
    "addlinked_views": null,
    "php_batchcopy": "",
    "php_before_publish": "",
    "alias_builder_type": 0,
    "php_before_delete": "",
    "php_document": "",
    "mysql_table_row_format": "DYNAMIC",
    "alias_builder": null,
    "sql": "",
    "add_php_getitem": 0,
    "add_category_submenu": 1,
    "add_php_getitems": 0,
    "add_php_getitems_after_all": 0,
    "add_php_getlistquery": 0,
    "add_css_view": 0,
    "add_php_getform": 1,
    "css_view": "",
    "add_php_before_save": 1,
    "add_css_views": 0,
    "add_php_save": 0,
    "css_views": "",
    "add_php_postsavehook": 0,
    "add_javascript_view_file": 0,
    "add_php_allowadd": 0,
    "javascript_view_file": "",
    "add_php_allowedit": 0,
    "add_javascript_view_footer": 0,
    "add_php_before_cancel": 0,
    "javascript_view_footer": "",
    "add_php_after_cancel": 0,
    "add_javascript_views_file": 0,
    "add_php_batchcopy": 0,
    "javascript_views_file": "",
    "add_php_batchmove": 0,
    "add_javascript_views_footer": 1,
    "add_php_before_publish": 0,
    "javascript_views_footer": "<?php\r\n\/\/ Ensure Bootstrap popover JS is available (Joomla 5)\r\n$wa = $this->getDocument()->getWebAssetManager();\r\n$wa->useScript('bootstrap.popover');\r\n\r\n\/\/ Build your site root once and pass it safely into JS\r\n$root = Joomla___eecc143e_b5cf_4c33_ba4d_97da1df61422___Power::root(true) . '\/';\r\n?>\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n\t\/\/ Select the 5th <td> of each row in #ingredientList\r\n\tconst cells = document.querySelectorAll('#ingredientList tbody tr td:nth-child(5)');\r\n\tconst root  = <?php echo json_encode($root, JSON_UNESCAPED_SLASHES); ?>;\r\n\r\n\tconst thumbs = [];\r\n\r\n\tcells.forEach((td) => {\r\n\t\tconst relPath = (td.textContent || '').trim();\r\n\t\tif (!relPath) return;\r\n\r\n\t\t\/\/ Normalize: avoid double slashes if the cell starts with '\/'\r\n\t\tconst imgPath = root + relPath.replace(\/^\\\/+\/, '');\r\n\r\n\t\t\/\/ Replace the cell content with a small thumbnail and data attribute for the full image\r\n\t\ttd.innerHTML = '<img class=\"je-popover-thumb\" src=\"' + imgPath + '\" width=\"30\" ' +\r\n\t\t\t'data-img=\"' + imgPath + '\" alt=\"\">';\r\n\r\n\t\tthumbs.push(td.querySelector('img.je-popover-thumb'));\r\n\t});\r\n\r\n\t\/\/ Initialize Bootstrap 5 popovers (requires $wa->useScript(\"bootstrap.popover\") above)\r\n\tthumbs.forEach((imgEl) => {\r\n\t\tbootstrap.Popover.getOrCreateInstance(imgEl, {\r\n\t\t\ttrigger: 'hover focus',\r\n\t\t\tplacement: 'bottom',\r\n\t\t\thtml: true,\r\n\t\t\t\/\/ Bootstrap 5 sanitizes by default; <img> is allowed, so no need to disable sanitize\r\n\t\t\tcontent: function () {\r\n\t\t\t\tconst src = imgEl.getAttribute('data-img');\r\n\t\t\t\treturn '<img src=\"' + src + '\" style=\"max-width:320px;height:auto;\" alt=\"\">';\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n});",
    "add_php_after_publish": 0,
    "add_custom_button": 1,
    "add_php_before_delete": 0,
    "custom_button": null,
    "add_php_after_delete": 0,
    "php_controller": "[CUSTOMCODE=formControllerEdit]",
    "add_php_document": 0,
    "php_model": "",
    "mysql_table_engine": "InnoDB",
    "php_controller_list": "",
    "mysql_table_collate": "utf8mb4_general_ci",
    "php_model_list": "",
    "add_sql": 0,
    "add_php_ajax": 0,
    "php_ajaxmethod": "",
    "guid": "0cd962eb-6b6c-49c6-a49b-bc96fb310609",
    "ajax_input": null,
    "@dependencies": [
        {
            "key": "admin_view",
            "value": "0cd962eb-6b6c-49c6-a49b-bc96fb310609",
            "entity": "admin_fields",
            "table": "#__componentbuilder_admin_fields",
            "direction": "in"
        },
        {
            "key": "function_name",
            "value": "saveGUIDPower",
            "entity": "custom_code",
            "table": "#__componentbuilder_custom_code",
            "direction": "out"
        },
        {
            "key": "function_name",
            "value": "setGUIDFormPower",
            "entity": "custom_code",
            "table": "#__componentbuilder_custom_code",
            "direction": "out"
        },
        {
            "key": "function_name",
            "value": "formControllerEdit",
            "entity": "custom_code",
            "table": "#__componentbuilder_custom_code",
            "direction": "out"
        },
        {
            "key": "bfbf7fb6-fdc9-5412-85fb-0421722b14b7.png",
            "pointer": "bfbf7fb6-fdc9-5412-85fb-0421722b14b7--png",
            "value": "images\/ingredients.png",
            "entity": "file",
            "table": "file_system",
            "target": "images"
        }
    ]
}