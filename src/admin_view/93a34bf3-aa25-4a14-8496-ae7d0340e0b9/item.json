{
    "system_name": "Look (demo-J6)",
    "name_single": "Look",
    "short_description": "The main demo view",
    "php_allowedit": "",
    "php_postsavehook": "",
    "php_before_save": " [CUSTOMCODE=saveGUIDPower]",
    "php_getlistquery": "",
    "php_getitems": "",
    "name_list": "Looks",
    "icon": "images\/vdm\/icon\/look.png",
    "php_after_publish": "",
    "add_fadein": 1,
    "description": "",
    "icon_category": "",
    "icon_add": "images\/vdm\/icon\/look_add.png",
    "php_after_cancel": "",
    "mysql_table_charset": "utf8mb4",
    "php_batchmove": "",
    "type": 1,
    "php_after_delete": "",
    "source": 0,
    "php_getitem": "",
    "addpermissions": {
        "addpermissions0": {
            "action": "view.edit",
            "implementation": 3
        },
        "addpermissions1": {
            "action": "view.edit.own",
            "implementation": 3
        },
        "addpermissions2": {
            "action": "view.edit.state",
            "implementation": 3
        },
        "addpermissions3": {
            "action": "view.edit.created_by",
            "implementation": 3
        },
        "addpermissions4": {
            "action": "view.edit.created",
            "implementation": 3
        },
        "addpermissions5": {
            "action": "view.create",
            "implementation": 3
        },
        "addpermissions6": {
            "action": "view.delete",
            "implementation": 3
        },
        "addpermissions7": {
            "action": "view.access",
            "implementation": 3
        }
    },
    "php_getitems_after_all": "",
    "php_getform": "[CUSTOMCODE=setGUIDFormPower]",
    "addtabs": {
        "addtabs0": {
            "name": "Details"
        },
        "addtabs1": {
            "name": "Addresses"
        },
        "addtabs2": {
            "name": "Media"
        },
        "addtabs3": {
            "name": "Participants"
        }
    },
    "php_save": "",
    "php_allowadd": "",
    "php_before_cancel": "",
    "addlinked_views": null,
    "php_batchcopy": "",
    "php_before_publish": "",
    "alias_builder_type": 1,
    "php_before_delete": "",
    "php_document": "[CUSTOMCODE=vdmUploaderConfig+vdm-uikit-uploader,file_vdm_uploader,getFileTypeDetails,uploadFile,displayFiles,deleteFile]\r\n\t\t\/\/ Define the configuration for the Cascading Select Manager\r\n\t\tText::script('Select a country');\r\n\t\tText::script('Select a country first');\r\n\t\tText::script('Select a state');\r\n\t\tText::script('Select a state first');\r\n\t\tText::script('Select a city');\r\n\t\t$cascadingSelectManagerConfig = (object) [\r\n\t\t\t'matchMode' => 'endsWith',\r\n\t\t\t'subformContainerId' => 'control-wrapper-addresses',\r\n\t\t\t'initialData' => (object) ($this->item->addresses ?? []),\r\n\t\t\t'chain' => [\r\n\t\t\t\t(object) [\r\n\t\t\t\t\t'name' => 'country',\r\n\t\t\t\t\t'id' => '__country',\r\n\t\t\t\t\t'placeholder' => (object) ['ready' => JustTEXT::_('Select a country')]\r\n\t\t\t\t],\r\n\t\t\t\t(object) [\r\n\t\t\t\t\t'name' => 'state',\r\n\t\t\t\t\t'id' => '__state',\r\n\t\t\t\t\t'endpoint' => (object) [\r\n\t\t\t\t\t\t'url' => \"{$url}index.php?option=com_[[[component]]]&task=ajax.getCountryStates&format=json&raw=true&{$token}=1\",\r\n\t\t\t\t\t\t'basedOn' => 'country',\r\n\t\t\t\t\t\t'paramKey' => 'country'\r\n\t\t\t\t\t],\r\n\t\t\t\t\t'placeholder' => (object) ['initial' => JustTEXT::_('Select a country first'), 'ready' => JustTEXT::_('Select a state')]\r\n\t\t\t\t],\r\n\t\t\t\t(object) [\r\n\t\t\t\t\t'name' => 'city',\r\n\t\t\t\t\t'id' => '__city',\r\n\t\t\t\t\t'endpoint' => (object) [\r\n\t\t\t\t\t\t'url' => \"{$url}index.php?option=com_[[[component]]]&task=ajax.getStateCities&format=json&raw=true&{$token}=1\",\r\n\t\t\t\t\t\t'basedOn' => 'state',\r\n\t\t\t\t\t\t'paramKey' => 'state'\r\n\t\t\t\t\t],\r\n\t\t\t\t\t'placeholder' => (object) ['initial' => JustTEXT::_('Select a state first'), 'ready' => JustTEXT::_('Select a city')]\r\n\t\t\t\t]\r\n\t\t\t]\r\n\t\t];\r\n\r\n\t\t\/\/ Convert the PHP array to a JavaScript object\r\n\t\t$cascadingSelectManagerConfigJson = json_encode($cascadingSelectManagerConfig);\r\n\t\t$script = \"document.addEventListener('DOMContentLoaded', () => { new CascadingSelectManager({$cascadingSelectManagerConfigJson}); });\";\r\n\r\n\t\t\/\/ Use WebAssetManager if available (Joomla 4+), otherwise fallback\r\n\t\tif (method_exists($document, 'getWebAssetManager'))\r\n\t\t{\r\n\t\t\t\/** @var \\Joomla\\CMS\\WebAsset\\WebAssetManager $wa *\/\r\n\t\t\t$wa = $document -> getWebAssetManager();\r\n\t\t\t$wa->addInlineScript($script);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t $document -> addScriptDeclaration($script);\r\n\t\t}\r\n[CUSTOMCODE=addUikitThreeToAdminViews]",
    "mysql_table_row_format": "DYNAMIC",
    "alias_builder": {
        "0": ""
    },
    "sql": "",
    "add_php_getitem": 0,
    "add_category_submenu": 1,
    "add_php_getitems": 0,
    "add_php_getitems_after_all": 0,
    "add_php_getlistquery": 0,
    "add_css_view": 1,
    "add_php_getform": 1,
    "css_view": ".control-wrapper-more .control-label {\r\n    display: none; \/\/ just for fun :)\r\n}",
    "add_php_before_save": 1,
    "add_css_views": 0,
    "add_php_save": 0,
    "css_views": "",
    "add_php_postsavehook": 0,
    "add_javascript_view_file": 1,
    "add_php_allowadd": 0,
    "javascript_view_file": "[CUSTOMCODE=cascadingSelectManagerJS]",
    "add_php_allowedit": 0,
    "add_javascript_view_footer": 0,
    "add_php_before_cancel": 0,
    "javascript_view_footer": "",
    "add_php_after_cancel": 0,
    "add_javascript_views_file": 0,
    "add_php_batchcopy": 0,
    "javascript_views_file": "",
    "add_php_batchmove": 0,
    "add_javascript_views_footer": 0,
    "add_php_before_publish": 0,
    "javascript_views_footer": "",
    "add_php_after_publish": 0,
    "add_custom_button": 0,
    "add_php_before_delete": 0,
    "custom_button": null,
    "add_php_after_delete": 0,
    "php_controller": "",
    "add_php_document": 1,
    "php_model": "",
    "mysql_table_engine": "InnoDB",
    "php_controller_list": "",
    "mysql_table_collate": "utf8mb4_unicode_ci",
    "php_model_list": "",
    "add_sql": 0,
    "add_php_ajax": 1,
    "php_ajaxmethod": "\t\/**\r\n\t * Get the country states if they exist.\r\n\t *\r\n\t * @param string $country  The country guid\r\n\t *\r\n\t * @return array\r\n\t * @since 5.0.2\r\n\t *\/\r\n\tpublic function getCountryStates(string $country): array\r\n\t{\r\n\t\tif (Super___9c513baf_b279_43fd_ae29_a585c8cbc4f0___Power::valid($country))\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\t$result = Super___9d76b8dc_3883_4755_b11c_131d19ca8a53___Power::_('Data.Items')->table('state')->get([$country], 'country');\r\n\t\t\t}\r\n\t\t\tcatch (\\Exception $error)\r\n\t\t\t{\r\n\t\t\t\treturn ['error' => $error->getMessage()];\r\n\t\t\t}\r\n\r\n\t\t\tif ($result !== null)\r\n\t\t\t{\r\n\t\t\t\t$states = array_map(function ($state) {\r\n\t\t\t\t\treturn (object) ['value' => $state->guid, 'text' => $state->name];\r\n\t\t\t\t}, $result);\r\n\r\n\t\t\t\treturn ['data' => $states];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ['error' => Text::_('The country states could not be found')];\r\n\t}\r\n\r\n\t\/**\r\n\t * Get the state cities if they exist.\r\n\t *\r\n\t * @param string $country  The country guid\r\n\t *\r\n\t * @return array\r\n\t * @since 5.0.2\r\n\t *\/\r\n\tpublic function getStateCities(string $state): array\r\n\t{\r\n\t\tif (Super___9c513baf_b279_43fd_ae29_a585c8cbc4f0___Power::valid($state))\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\t$result = Super___9d76b8dc_3883_4755_b11c_131d19ca8a53___Power::_('Data.Items')->table('city')->get([$state], 'state');\r\n\t\t\t}\r\n\t\t\tcatch (\\Exception $error)\r\n\t\t\t{\r\n\t\t\t\treturn ['error' => $error->getMessage()];\r\n\t\t\t}\r\n\r\n\t\t\tif ($result !== null)\r\n\t\t\t{\r\n\t\t\t\t$cities = array_map(function ($city) {\r\n\t\t\t\t\treturn (object) ['value' => $city->guid, 'text' => $city->name];\r\n\t\t\t\t}, $result);\r\n\r\n\t\t\t\treturn ['data' => $cities];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ['error' => Text::_('The state cities could not be found')];\r\n\t}",
    "guid": "93a34bf3-aa25-4a14-8496-ae7d0340e0b9",
    "ajax_input": {
        "ajax_input0": {
            "value_name": "country",
            "task_name": "getCountryStates",
            "input_default": "NULL",
            "input_filter": "STRING",
            "method_name": "getCountryStates"
        },
        "ajax_input1": {
            "value_name": "state",
            "task_name": "getStateCities",
            "input_default": "NULL",
            "input_filter": "STRING",
            "method_name": "getStateCities"
        }
    },
    "@dependencies": [
        {
            "key": "admin_view",
            "value": "93a34bf3-aa25-4a14-8496-ae7d0340e0b9",
            "entity": "admin_fields",
            "table": "#__componentbuilder_admin_fields",
            "direction": "in"
        },
        {
            "key": "admin_view",
            "value": "93a34bf3-aa25-4a14-8496-ae7d0340e0b9",
            "entity": "admin_fields_conditions",
            "table": "#__componentbuilder_admin_fields_conditions",
            "direction": "in"
        },
        {
            "key": "function_name",
            "value": "saveGUIDPower",
            "entity": "custom_code",
            "table": "#__componentbuilder_custom_code",
            "direction": "out"
        },
        {
            "key": "function_name",
            "value": "setGUIDFormPower",
            "entity": "custom_code",
            "table": "#__componentbuilder_custom_code",
            "direction": "out"
        },
        {
            "key": "function_name",
            "value": "vdmUploaderConfig",
            "entity": "custom_code",
            "table": "#__componentbuilder_custom_code",
            "direction": "out"
        },
        {
            "key": "function_name",
            "value": "addUikitThreeToAdminViews",
            "entity": "custom_code",
            "table": "#__componentbuilder_custom_code",
            "direction": "out"
        },
        {
            "key": "function_name",
            "value": "cascadingSelectManagerJS",
            "entity": "custom_code",
            "table": "#__componentbuilder_custom_code",
            "direction": "out"
        },
        {
            "key": "60e279ce-a879-514b-ac7c-5893fc23368b.png",
            "pointer": "60e279ce-a879-514b-ac7c-5893fc23368b--png",
            "value": "images\/vdm\/icon\/look.png",
            "entity": "file",
            "table": "file_system",
            "target": "images"
        },
        {
            "key": "4ba1d0b9-3b56-5f2a-8152-4f00db54fb72.png",
            "pointer": "4ba1d0b9-3b56-5f2a-8152-4f00db54fb72--png",
            "value": "images\/vdm\/icon\/look_add.png",
            "entity": "file",
            "table": "file_system",
            "target": "images"
        }
    ]
}