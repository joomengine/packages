{
    "system_name": "Looking",
    "name": "Looking",
    "description": "Looking at a look",
    "main_get": "98e6ea56-0911-4d89-b1f4-8f0bb1e4aa5a",
    "add_php_jview_display": 1,
    "add_php_document": 0,
    "add_php_view": 0,
    "js_document": "",
    "codename": "looking",
    "javascript_file": "",
    "context": "looking",
    "default": "<article class=\"uk-comment uk-comment-primary\">\r\n    <header class=\"uk-comment-header uk-grid-medium uk-flex-middle\" uk-grid>\r\n        <div class=\"uk-width-auto\">\r\n            <img class=\"uk-comment-avatar\" src=\"https:\/\/via.placeholder.com\/80\" width=\"80\" height=\"80\" alt=\"\">\r\n        <\/div>\r\n        <div class=\"uk-width-expand\">\r\n            <h4 class=\"uk-comment-title uk-margin-remove\"><strong><?php echo $this->escape($this->item->name); ?><\/strong><\/h4>\r\n            <ul class=\"uk-comment-meta uk-subnav uk-subnav-divider uk-margin-remove-top\">\r\n                <li><?php echo Text::_('Hits'); ?>: <?php echo $this->item->hits; ?><\/li>\r\n            <\/ul>\r\n        <\/div>\r\n    <\/header>\r\n    <div class=\"uk-comment-body\">\r\n        <p><?php echo $this->item->description; ?><\/p>\r\n\r\n        <?php if (!empty($this->item->files)): ?>\r\n            <div class=\"uk-margin\">\r\n                <?php echo Joomla___7ab82272_0b3d_4bb1_af35_e63a096cfe0b___Power::render('demolookfiledisplay', ['data' => $this->item->files, 'target' => 'look', 'entity' => $this->item->guid, 'remove_delete' => true]); ?>\r\n            <\/div>\r\n        <?php endif; ?>\r\n\r\n        <?php if (!empty($this->item->guidEntityDetailD)): ?>\r\n            <div class=\"uk-margin\">\r\n                <button class=\"uk-button uk-button-default uk-button-small\" uk-toggle=\"target: #more-details-090\">\r\n                    <?php echo Text::_('More Details'); ?>\r\n                <\/button>\r\n            <\/div>\r\n        <?php endif; ?>\r\n    <\/div>\r\n<\/article>\r\n\r\n<?php if (!empty($this->item->guidEntityDetailD)): ?>\r\n    <!-- This is the modal -->\r\n    <div id=\"more-details-090\" uk-modal>\r\n        <div class=\"uk-modal-dialog uk-modal-body\">\r\n            <button class=\"uk-modal-close-default\" type=\"button\" uk-close><\/button>\r\n            <h2 class=\"uk-modal-title\"><?php echo Text::_('More Information'); ?><\/h2>\r\n            <div class=\"uk-grid-small uk-child-width-expand@s uk-text-center\" uk-grid>\r\n                <?php foreach ($this->item->guidEntityDetailD as $more): ?>\r\n                    <div class=\"uk-card uk-card-default uk-card-hover uk-card-body uk-width-1-2@m uk-margin-small-bottom\">\r\n                        <dl class=\"uk-description-list uk-description-list-divider\">\r\n                            <?php if (Super___1f28cb53_60d9_4db1_b517_3c7dc6b429ef___Power::check($more->dateofbirth)): ?>\r\n                                <dt><?php echo Text::_('Birth day'); ?><\/dt>\r\n                                <dd><?php echo Joomla___cf3b95c1_ba56_4193_8eb4_9164582b7f55___Power::fancyDate($this->escape($more->dateofbirth)); ?><\/dd>\r\n                            <?php endif; ?>\r\n                            <?php if (Super___1f28cb53_60d9_4db1_b517_3c7dc6b429ef___Power::check($more->email)): ?>\r\n                                <dt><?php echo Text::_('Email'); ?><\/dt>\r\n                                <dd><?php echo $this->escape($more->email); ?><\/dd>\r\n                            <?php endif; ?>\r\n                            <?php if (Super___1f28cb53_60d9_4db1_b517_3c7dc6b429ef___Power::check($more->mobile_phone)): ?>\r\n                                <dt><?php echo Text::_('Mobile'); ?><\/dt>\r\n                                <dd><?php echo $this->escape($more->mobile_phone); ?><\/dd>\r\n                            <?php endif; ?>\r\n                            <?php if (Super___1f28cb53_60d9_4db1_b517_3c7dc6b429ef___Power::check($more->website)): ?>\r\n                                <dt><?php echo Text::_('Website'); ?><\/dt>\r\n                                <dd><?php echo $this->escape($more->website); ?><\/dd>\r\n                            <?php endif; ?>\r\n                        <\/dl>\r\n                    <\/div>\r\n                <?php endforeach; ?>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<?php endif; ?>",
    "snippet": "0",
    "add_php_jview": 1,
    "custom_get": null,
    "css_document": "",
    "add_javascript_file": 0,
    "css": "",
    "add_js_document": 0,
    "php_ajaxmethod": "",
    "add_css_document": 0,
    "libraries": null,
    "add_css": 0,
    "dynamic_get": "98e6ea56-0911-4d89-b1f4-8f0bb1e4aa5a",
    "add_php_ajax": 0,
    "ajax_input": null,
    "add_custom_button": 0,
    "php_document": "",
    "button_position": 1,
    "php_view": "",
    "php_jview_display": "\/\/ add a hit to the look\r\n$this->hit();\r\n\r\n\/\/ set the linked files\r\n$this->setLinkedFiles();",
    "custom_button": null,
    "php_jview": "\t \/**\r\n\t  * Increment the hit counter for the entity.\r\n\t  *\r\n\t  * @return  void\r\n\t  *\/\r\n\tprotected function hit(): void\r\n\t{\r\n\t\tif (isset($this->item->id) && $this->item->id)\r\n\t\t{\r\n\t\t\t$db = Factory::getDbo();\r\n\t\t\t$query = $db->getQuery(true);\r\n\r\n\t\t\t\/\/ Fields to update.\r\n\t\t\t$fields = array(\r\n\t\t\t    $db->quoteName('hits') . ' = ' . $db->quoteName('hits') . ' + 1'\r\n\t\t\t);\r\n\r\n\t\t\t\/\/ Conditions for which records should be updated.\r\n\t\t\t$conditions = array(\r\n\t\t\t\t$db->quoteName('id') . ' = ' . $this->item->id\r\n\t\t\t);\r\n\r\n\t\t\t$query->update($db->quoteName('#__[[[component]]]_look'))->set($fields)->where($conditions);\r\n\r\n\t\t\t$db->setQuery($query);\r\n\t\t\tif ($db->execute())\r\n\t\t\t{\r\n\t\t\t\t$this->item->hits++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t \/**\r\n\t  * get the Files for this entity\r\n\t  *\r\n\t  * @return  void\r\n\t  *\/\r\n\tprotected function setLinkedFiles(): void\r\n\t{\r\n\t\tif (isset($this->item->guid) && !isset($this->item->files) && Super___9c513baf_b279_43fd_ae29_a585c8cbc4f0___Power::valid($this->item->guid))\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\t$this->item->files = Super___884eca78_281f_4eab_b962_d97e355af16d___Power::_('File.Display')->get($this->item->guid, 'look');\r\n\t\t\t}\r\n\t\t\tcatch (\\Exception $error)\r\n\t\t\t{\r\n\t\t\t\t\/\/ ignore this error for now\r\n\t\t\t}\r\n\t\t}\r\n\t}",
    "php_controller": "",
    "guid": "851ed44e-5431-4951-876f-4b62a4c56ad2",
    "php_model": "",
    "@dependencies": [
        {
            "key": "guid",
            "value": "98e6ea56-0911-4d89-b1f4-8f0bb1e4aa5a",
            "entity": "dynamic_get",
            "table": "#__componentbuilder_dynamic_get",
            "direction": "out"
        },
        {
            "key": "guid",
            "value": "6e4e5acc-8a7c-49ca-be53-8f8d95bd4163",
            "entity": "layout",
            "table": "#__componentbuilder_layout",
            "direction": "out"
        }
    ]
}